!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.app=e()}}(function(){return function e(t,i,o){function a(n,l){if(!i[n]){if(!t[n]){var r="function"==typeof require&&require;if(!l&&r)return r(n,!0);if(s)return s(n,!0);var d=new Error("Cannot find module '"+n+"'");throw d.code="MODULE_NOT_FOUND",d}var c=i[n]={exports:{}};t[n][0].call(c.exports,function(e){var i=t[n][1][e];return a(i||e)},c,c.exports,e,t,i,o)}return i[n].exports}for(var s="function"==typeof require&&require,n=0;n<o.length;n++)a(o[n]);return a}({1:[function(e,t,i){"use strict";var o=e("./config"),a=e("./states");i.init=function(){var e=new Phaser.Game(o.screenWidth,o.screenHeight,Phaser.AUTO,o.gameDiv);return Object.keys(a).forEach(function(t){e.state.add(t,a[t])}),e.state.start("Boot"),e}},{"./config":3,"./states":12}],2:[function(e,t,i){"use strict";i.boot=[{key:"progress-bar",type:"image"}],i.game=[{key:"ball",type:"image"},{key:"paddle",type:"image"},{key:"ballBounce",type:"audio",urls:["ballBounce.m4a","ballBounce.ogg"]},{key:"ballHit",type:"audio",urls:["ballHit.m4a","ballHit.ogg"]},{key:"ballMissed",type:"audio",urls:["ballMissed.m4a","ballMissed.ogg"]}]},{}],3:[function(e,t,i){"use strict";t.exports={screenWidth:640,screenHeight:480,gameDiv:"gameDiv",dashSize:5,paddleLeft_x:50,paddleRight_x:590,paddleVelocity:500,paddleSegmentHeight:4,paddleSegmentMax:4,paddleSegmentAngle:15,paddleGap:22,paddleLeftUpKey:Phaser.Keyboard.A,paddleLeftDownKey:Phaser.Keyboard.Z,paddleRightUpKey:Phaser.Keyboard.UP,paddleRightDownKey:Phaser.Keyboard.DOWN,ballVelocity:250,ballStartDelay:2,ballIncVelocity:25,ballIncVelStartCount:2,ballMaxVel:500,ballRandomStartingAngle:[-120,120,-60,60],winScore:11,scoreFont:{font:"80px Arial",fill:"#FFFFFF",align:"center"},instructions:"Left paddle: A to move up, Z to move down.\nRight paddle: UP and DOWN arrow keys.\nFirst player to score 11 wins.\n- click to start -",instructionsFont:{font:"24px Arial",fill:"#FFFFFF",align:"center"}}},{}],4:[function(e,t,i){"use strict";function o(e,t,i){Phaser.Graphics.call(this,e,t,i),this.lineStyle(2,16777121,1);for(var o=0;o<a.screenHeight;o+=2*a.dashSize)this.moveTo(e.world.centerX,o),this.lineTo(e.world.centerX,o+a.dashSize)}var a=e("../config");o.prototype=Object.create(Phaser.Graphics.prototype),t.exports=o.prototype.constructor=o},{"../config":3}],5:[function(e,t,i){"use strict";function o(e,t,i){Phaser.Sprite.call(this,e,t,i,"ball"),this.anchor.set(.5,.5),e.physics.enable(this),this.checkWorldBounds=!0,this.body.collideWorldBounds=!0,this.body.immovable=!0,this.body.bounce.set(1),this.lastVelocity=a.ballVelocity,this.bounceSound=e.add.audio("ballBounce")}var a=e("../config");o.prototype=Object.create(Phaser.Sprite.prototype),t.exports=o.prototype.constructor=o,o.prototype.update=function(e,t){void 0!==e&&void 0!==t&&(t>a.ballMaxVel&&(t=a.ballMaxVel),this.lastVelocity=t,this.game.physics.arcade.velocityFromAngle(e,t,this.body.velocity),(this.body.blocked.up||this.body.blocked.down||this.body.blocked.left||this.body.blocked.right)&&this.bounceSound.play())},o.prototype.checkBounce=function(){(this.body.blocked.up||this.body.blocked.down||this.body.blocked.left||this.body.blocked.right)&&this.bounceSound.play()}},{"../config":3}],6:[function(e,t,i){"use strict";function o(e,t,i,o,a){Phaser.Sprite.call(this,e,t,i,"paddle"),this.anchor.set(.5,.5),e.physics.enable(this),this.checkWorldBounds=!0,this.body.collideWorldBounds=!0,this.body.immovable=!0,this.body.bounce.set(1),this.paddleUp=e.input.keyboard.addKey(o),this.paddleDown=e.input.keyboard.addKey(a),this.hitSound=e.add.audio("ballHit"),this.hitCount=0}var a=e("../config");o.prototype=Object.create(Phaser.Sprite.prototype),t.exports=o.prototype.constructor=o,o.prototype.enablePaddle=function(e){this.paddleUp.enabled=e,this.paddleDown.enabled=e},o.prototype.update=function(e){var t=0;this.paddleUp.isDown?t=-a.paddleVelocity:this.paddleDown.isDown&&(t=a.paddleVelocity),this.body.velocity.y=t,this.body.y<a.paddleGap&&(this.body.y=a.paddleGap),this.game.physics.arcade.overlap(e,this,this.collision,null,this)},o.prototype.collision=function(e){this.hitCount++;var t=Math.floor((e.y-this.y)/a.paddleSegmentHeight);t>=a.paddleSegmentMax?t=a.paddleSegmentMax-1:t<=-a.paddleSegmentMax&&(t=-(a.paddleSegmentMax-1));var i=t*a.paddleSegmentAngle;this.x>.5*a.screenWidth&&(i=180-i),i>180&&(i-=360);var o=e.lastVelocity;this.hitCount>a.ballIncVelStartCount&&(o+=a.ballIncVelocity),e.update(i,o),this.hitSound.play()}},{"../config":3}],7:[function(e,t,i){function o(e,t,i){Phaser.Text.call(this,e,t,i,"0",a.scoreFont),this.anchor.set(.5,.5),this.score=0,this.text=this.score,this.winnerText=e.add.text(t,i+40,"Winner!",a.instructionsFont),this.winnerText.anchor.set(.5,.5),this.winnerText.visible=!1}var a=e("../config");o.prototype=Object.create(Phaser.Text.prototype),t.exports=o.prototype.constructor=o,o.prototype.reset=function(){this.score=0},o.prototype.increment=function(){this.score++,this.text=this.score,this.score>=a.winScore&&(this.winnerText.visible=!0)},o.prototype.max=function(){return this.score>=a.winScore}},{"../config":3}],8:[function(e,t,i){"use strict";var o=e("../assets");i.preload=function(e){e.load.path="assets/",e.physics.startSystem(Phaser.Physics.ARCADE),e.input.maxPointers=2,e.scale.pageAlignHorizontally=!0,e.scale.scaleMode=Phaser.ScaleManager.NO_SCALE,e.stage.disableVisibilityChange=!0,e.tweens.frameBased=!1,e.load.pack("boot",null,o)},i.create=function(e){e.state.start("Preloader")}},{"../assets":2}],9:[function(e,t,i){"use strict";var o=e("../config"),a=e("../objects/Background"),s=e("../objects/Ball");i.create=function(e){var t=e.world.centerX,i=e.world.centerY;this.backgroundGraphics=e.add.existing(new a(e,0,0)),this.ballSprite=e.add.existing(new s(e,t,i)),e.add.text(e.world.centerX,e.world.centerY,o.instructions,o.instructionsFont).anchor.set(.5),this.startDemo(e)},i.startDemo=function(e){this.ballSprite.visible=!1,e.time.events.add(Phaser.Timer.SECOND*o.ballStartDelay,this.startBall,this),e.input.onDown.add(this.startGame,this)},i.startBall=function(){this.ballSprite.visible=!0;var e=this.rnd.pick(o.ballRandomStartingAngle);this.ballSprite.update(e,o.ballVelocity)},i.startGame=function(){this.state.start("Game")},i.update=function(){this.ballSprite.checkBounce()}},{"../config":3,"../objects/Background":4,"../objects/Ball":5}],10:[function(e,t,i){"use strict";var o=e("../config"),a=e("../objects/Background"),s=e("../objects/Paddle"),n=e("../objects/Ball"),l=e("../objects/Score");i.create=function(e){var t=e.world.centerX,i=e.world.centerY;this.backgroundGraphics=e.add.existing(new a(e,0,0)),this.ball=e.add.existing(new n(e,t,i)),this.paddleLeft=e.add.existing(new s(e,o.paddleLeft_x,i,o.paddleLeftUpKey,o.paddleLeftDownKey)),this.paddleRight=e.add.existing(new s(e,o.paddleRight_x,i,o.paddleRightUpKey,o.paddleRightDownKey)),this.scoreRight=e.add.existing(new l(e,.25*o.screenWidth,.1*o.screenHeight)),this.scoreLeft=e.add.existing(new l(e,.75*o.screenWidth,.1*o.screenHeight)),this.oobSound=e.add.audio("ballMissed"),this.startGame()},i.startGame=function(){this.resetBall(),this.paddleLeft.enablePaddle(!0),this.paddleRight.enablePaddle(!0),this.game.physics.arcade.checkCollision.left=!1,this.game.physics.arcade.checkCollision.right=!1,this.ball.events.onOutOfBounds.add(this.ballOutOfBounds,this)},i.resetBall=function(){this.ball.reset(this.game.world.centerX,this.game.rnd.between(0,o.screenHeight)),this.ball.visible=!1,this.game.time.events.add(Phaser.Timer.SECOND*o.ballStartDelay,this.startBall,this)},i.startBall=function(){this.ball.visible=!0;var e=this.rnd.pick(o.ballRandomStartingAngle);this.physics.arcade.velocityFromAngle(e,o.ballVelocity,this.ball.body.velocity)},i.ballOutOfBounds=function(){this.ball.x<0?this.scoreLeft.increment():this.scoreRight.increment(),this.scoreLeft.max()||this.scoreRight.max()?this.game.state.start("Demo",!1,!1):this.resetBall(),this.oobSound.play()},i.update=function(){this.paddleLeft.update(this.ball),this.paddleRight.update(this.ball),this.ball.checkBounce()}},{"../config":3,"../objects/Background":4,"../objects/Ball":5,"../objects/Paddle":6,"../objects/Score":7}],11:[function(e,t,i){"use strict";function o(e){e.load.setPreloadSprite(e.add.image(82,282,"progress-bar"))}var a=e("../assets");i.preload=function(e){o(e),e.load.pack("game",null,a)},i.create=function(e){e.state.start("Demo")}},{"../assets":2}],12:[function(e,t,i){"use strict";i.Boot=e("./Boot"),i.Preloader=e("./Preloader"),i.Game=e("./Game"),i.Demo=e("./Demo")},{"./Boot":8,"./Demo":9,"./Game":10,"./Preloader":11}]},{},[1])(1)});
//# sourceMappingURL=game.min.js.map
